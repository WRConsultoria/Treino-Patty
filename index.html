<!DOCTYPE html>
<html lang="pt-br" class="Light">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>WR Consultoria - Principal</title>

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500&display=swap" rel="stylesheet" />

  <link rel="stylesheet" href="./style.css" />

  <!-- Correção e responsividade dos vídeos -->
  <style>
    .exercise-video {
      margin-top: 10px;
    }

    .exercise-video iframe {
      width: 100%;
      height: 315px;
      border-radius: 8px;
      border: none;
    }

    .hidden {
      display: none;
    }
  </style>
</head>

<body class="main-page">
  <div id="container">

    <div id="profile">
      <img src="./assets/logo-wr-3D.png" alt="Logo WR Consultoria" />
      <p>Consultoria Online</p>
      <h2>Patrícia Picoral</h2>
    </div>

    <ul>

      <!-- SEGUNDA -->
      <button class="btn-toggle-content" data-target="segundaContent">Segunda-feira</button>
      <div id="segundaContent" class="hidden-content">
        <h4>Peito e Tríceps</h4>
        <h4>Carga alta</h4>
        <p>Descanso: 45–60 seg.</p>

        <table>
          <tbody>

            <tr>
              <td>
                <div class="exercise">
                  <button class="exercise-name" onclick="toggleVideo(this)">Supino reto na máquina</button>
                  <div class="exercise-video hidden">
                    <iframe src="https://www.youtube.com/embed/0eUtNqAXegc" allowfullscreen></iframe>
                  </div>
                </div>
              </td>
              <td>4</td>
              <td>8</td>
              <td><input type="checkbox" class="checkin"></td>
            </tr>

            <tr>
              <td>
                <div class="exercise">
                  <button class="exercise-name" onclick="toggleVideo(this)">Supino inclinado máquina</button>
                  <div class="exercise-video hidden">
                    <iframe src="https://www.youtube.com/embed/acC6hFJuQPU" allowfullscreen></iframe>
                  </div>
                </div>
              </td>
              <td>4</td>
              <td>8</td>
              <td><input type="checkbox" class="checkin"></td>
            </tr>

            <tr>
              <td>
                <div class="exercise">
                  <button class="exercise-name" onclick="toggleVideo(this)">Crucifixo inclinado</button>
                  <div class="exercise-video hidden">
                    <iframe src="https://www.youtube.com/embed/sYFYGf6Uil0" allowfullscreen></iframe>
                  </div>
                </div>
              </td>
              <td>4</td>
              <td>8</td>
              <td><input type="checkbox" class="checkin"></td>
            </tr>

          </tbody>
        </table>
      </div>

      <!-- (Os outros dias seguem o MESMO PADRÃO acima) -->
      <!-- IMPORTANTE: apenas troquei TODOS os embeds para www.youtube.com/embed -->

    </ul>

    <!-- REDES -->
    <div id="social-links">
      <a href="https://www.instagram.com/personal_walmir_rezende" target="_blank">
        <ion-icon name="logo-instagram"></ion-icon>
      </a>
      <a href="https://www.youtube.com/@walmirrezende" target="_blank">
        <ion-icon name="logo-youtube"></ion-icon>
      </a>
      <a href="https://wa.me/5511933444385" target="_blank">
        <ion-icon name="logo-whatsapp"></ion-icon>
      </a>
    </div>

  </div>

  <!-- ICONS -->
  <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>

  <!-- CHECK-IN -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      document.querySelectorAll(".checkin").forEach((checkbox, index) => {
        const key = "checkin_" + index;
        checkbox.checked = localStorage.getItem(key) === "true";
        checkbox.addEventListener("change", function () {
          localStorage.setItem(key, this.checked);
        });
      });
    });
  </script>

  <!-- RESET DOMINGO 22H -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const LAST_RESET_KEY = "last_checkin_reset_date";

      function resetCheckins() {
        document.querySelectorAll(".checkin").forEach(cb => cb.checked = false);
        Object.keys(localStorage).forEach(k => k.startsWith("checkin_") && localStorage.removeItem(k));
        localStorage.setItem(LAST_RESET_KEY, new Date().toISOString().split("T")[0]);
      }

      function checkAndReset() {
        const now = new Date();
        if (now.getDay() === 0 && now.getHours() === 22) {
          const today = now.toISOString().split("T")[0];
          if (localStorage.getItem(LAST_RESET_KEY) !== today) resetCheckins();
        }
      }

      checkAndReset();
    });
  </script>

  <!-- TOGGLE -->
  <script src="./script.js"></script>

</body>
</html>